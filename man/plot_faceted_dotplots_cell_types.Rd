% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_faceted_dotplots_cell_types.R
\name{plot_faceted_dotplots_cell_types}
\alias{plot_faceted_dotplots_cell_types}
\title{Create Faceted Dot Plot for Cell Type Distribution by Condition}
\usage{
plot_faceted_dotplots_cell_types(
  seurat_obj,
  cell_type_column = "cell.type",
  condition_column = "disease",
  text_angle = 45,
  max_dot_size = 15,
  ctrl_condition = "CTRL",
  disease_condition = "PAH",
  ctrl_color = "dodgerblue",
  disease_color = "firebrick2",
  sort_by = "count",
  show_labels = TRUE,
  title = "Cell Type Distribution by Condition",
  subtitle = NULL,
  x_lab = "Cell Type",
  y_lab = NULL
)
}
\arguments{
\item{seurat_obj}{A Seurat object containing the single-cell data}

\item{cell_type_column}{Character string specifying the column in the meta.data that
contains cell type information. Default is "cell.type".}

\item{condition_column}{Character string specifying the column in the meta.data that
contains condition information (e.g., disease status). Default is "disease".}

\item{text_angle}{Numeric value specifying the angle of x-axis text labels. Default is 45.}

\item{max_dot_size}{Numeric value specifying the maximum size of dots. Default is 15.}

\item{ctrl_condition}{Character string specifying the value in condition_column that represents
control samples. Default is "CTRL".}

\item{disease_condition}{Character string specifying the value in condition_column that represents
disease samples. Default is "PAH".}

\item{ctrl_color}{Character string specifying the color for control condition. Default is "dodgerblue".}

\item{disease_color}{Character string specifying the color for disease condition. Default is "firebrick2".}

\item{sort_by}{Character string specifying how to sort cell types. Options are "count" (default)
or "name". If "count", cell types are sorted by total cell count.}

\item{show_labels}{Logical indicating whether to show count and percentage labels. Default is TRUE.}

\item{title}{Character string specifying the plot title. Default is "Cell Type Distribution by Condition".}

\item{subtitle}{Character string specifying the plot subtitle. Default is NULL.}

\item{x_lab}{Character string specifying the x-axis label. Default is "Cell Type".}

\item{y_lab}{Character string specifying the y-axis label. Default is the value of condition_column.}
}
\value{
A ggplot object representing the faceted dot plot
}
\description{
This function creates a faceted dot plot that visualizes cell type distribution across
multiple conditions (e.g., disease states). The plot represents three dimensions of data:
cell type, absolute count (dot size), and relative proportion (dot color).
}
\details{
The plot shows each cell type on the x-axis and condition on the y-axis. For each
cell type/condition combination, a dot is drawn where:
\itemize{
\item The size of the dot represents the absolute number of cells
\item The color of the dot represents the condition (CTRL = dodgerblue, PAH = firebrick2)
\item Text labels show both the count and percentage values
}

This visualization is particularly useful for identifying shifts in cell type
distribution between conditions (e.g., disease vs. control).
}
\examples{
\dontrun{
# Basic usage
plot_faceted_dotplots_cell_types(seurat_obj)

# Customized plot
plot_faceted_dotplots_cell_types(
  seurat_obj,
  cell_type_column = "CellType",
  condition_column = "Treatment",
  ctrl_condition = "Control",
  disease_condition = "Treated",
  max_dot_size = 20,
  title = "Cell Type Changes After Treatment"
)

# For only stromal cells
stromal_cells <- subset(seurat_obj, lineage == "Stromal")
plot_faceted_dotplots_cell_types(stromal_cells)
}

}
